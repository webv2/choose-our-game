<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Choose Our Game — Assemble Groups</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.8/dist/umd/supabase.min.js"></script>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --muted:#9aa6b2; --accent:#4f46e5;
    --glass: rgba(255,255,255,0.03);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%; margin:0; background:
    linear-gradient(180deg, #071020 0%, #071527 50%, #041018 100%); color:#e6eef6;}
  .wrap{max-width:1200px; margin:28px auto; padding:18px;}
  header{display:flex;align-items:center;gap:16px;margin-bottom:18px;}
  h1{margin:0;font-size:20px;letter-spacing:-0.2px; margin-left: 16px;}
  .back-btn {
    background: rgba(255,255,255,0.05); color: var(--muted); text-decoration: none;
    border: 1px solid rgba(255,255,255,0.08); padding: 8px 12px; border-radius: 10px;
    cursor: pointer; font-weight: 600; transition: background-color 0.2s;
  }
  .back-btn:hover { background: rgba(255,255,255,0.1); }
  .controls{margin-left:auto;display:flex;gap:8px;align-items:center}
  button, .small-btn {background:var(--accent); color:white; border:0; padding:8px 12px; border-radius:10px; cursor:pointer;}
  .small-btn{padding:6px 10px;font-size:13px}
  .board{display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:14px;}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015)); border-radius:12px; overflow:hidden; box-shadow: 0 6px 18px rgba(2,6,23,0.7); border:1px solid rgba(255,255,255,0.02);}
  .cover{height:120px; background:#071023; display:flex; align-items:center; justify-content:center; color:var(--muted); font-weight:600; font-size:18px;}
  .meta{padding:10px 12px;}
  .title-row{display:flex; align-items:center; justify-content:space-between; gap:8px}
  .title{font-weight:600; font-size:15px; margin-right:8px}
  .votes{background:var(--glass); padding:6px 8px; border-radius:999px; font-size:13px; color:var(--muted)}
  .players{margin-top:10px; font-size:13px; color:var(--muted); min-height:34px;}
  .player{display:inline-flex; background:rgba(255,255,255,0.03); padding:6px 8px; border-radius:999px; margin:4px 6px 0 0; align-items:center; gap:8px;}
  .actions{display:flex; gap:8px; margin-top:12px}
  .join{flex:1; background:transparent; border:1px dashed rgba(255,255,255,0.06); padding:8px;border-radius:10px;color:var(--muted); cursor:pointer}
  .join-form { display: flex; flex-direction: column; gap: 8px; flex-grow: 1; }
  .join-form-buttons { display: flex; gap: 6px; }
  .join-form-buttons .small-btn { flex-grow: 1; }
  input[type="text"]{background:transparent;border:1px solid rgba(255,255,255,0.04); padding:8px;border-radius:8px;color:inherit; outline:none; width:100%; box-sizing: border-box;}
  .toolbar{display:flex; gap:8px; margin-bottom:12px; align-items:center}
  .search-row{display:flex; gap:8px; align-items:center}
  .pill{background:rgba(255,255,255,0.02); padding:6px 10px;border-radius:999px; font-size:13px; color:var(--muted)}
  .img-fallback{width:100%;height:100%; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px; letter-spacing:0.6px}
  footer{margin-top:18px; font-size:13px; color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <a href="index.html" class="back-btn">← Back to Main</a>
    <h1>Choose Our Game — Assemble Groups</h1>
    <div class="controls">
      <div class="pill" id="stats">Loading...</div>
    </div>
  </header>

  <div class="toolbar">
    <div class="search-row">
      <input type="text" id="filterInput" placeholder="Filter games by name..." style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;width:320px" />
      <button class="small-btn" id="clearFilter">Clear</button>
    </div>
  </div>

  <div class="board" id="board"></div>

  <footer>
    <div>Usage: Click <strong>Join</strong> on a game card and type your name. Changes are saved to the database and are visible to everyone in real-time.</div>
  </footer>
</div>

<script>
/*
  Game Bo
